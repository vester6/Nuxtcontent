import{I as x,l as A,J as L,c as g,K as v,f as o,i as s,L as S,M as I,n as _,F as f,H as m,N as h,k as r,t as i,O as N,g as $}from"./Jfa0KLRP.js";import{u as B}from"./CTJj6QqR.js";import"./5WPk9I02.js";import"./BmL9ck2M.js";const D=x("/almaskoekken.png"),F={class:"recipe-home"},K={class:"hero-section"},R={class:"hero-content"},V={class:"hero-search"},z={class:"filter-buttons"},E=["onClick"],M={class:"recipe-grid"},U={key:0,class:"loading-container"},j={key:1,class:"error-container"},q=["href"],H={class:"time-badge"},J={key:0,class:"category-badge"},O={class:"recipe-card-content"},P={class:"description"},Q={class:"recipe-meta"},T={class:"difficulty"},W={class:"servings"},X={__name:"index",async setup(G){let c,u;const{data:d,pending:p,error:y}=([c,u]=L(()=>B("/api/recipes","$orW8SXrfeA")),c=await c,u(),c),l=g(""),n=g(""),k=v(()=>{if(!d.value)return[];const a=[];return d.value.forEach(t=>{t.categories&&Array.isArray(t.categories)&&a.push(...t.categories)}),[...new Set(a)].sort()}),C=v(()=>d.value?d.value.filter(a=>{const t=!l.value||a.title.toLowerCase().includes(l.value.toLowerCase())||a.description.toLowerCase().includes(l.value.toLowerCase()),e=!n.value||a.categories&&a.categories.includes(n.value);return t&&e}):[]),b=a=>{if(a.image)return{backgroundImage:`url(${a.image})`};let t="category-default";if(a.categories&&a.categories.length>0){const e=a.categories[0].toLowerCase();e.includes("dessert")?t="category-dessert":e.includes("bagværk")?t="category-bagvaerk":e.includes("tradition")?t="category-tradition":e.includes("international")&&(t="category-international")}return{backgroundColor:w(t)}},w=a=>{switch(a){case"category-dessert":return"#f9d5e5";case"category-bagvaerk":return"#eeac99";case"category-tradition":return"#e06377";case"category-international":return"#5b9aa0";default:return"#d8e2dc"}};return(a,t)=>(r(),o("div",F,[s("div",K,[t[2]||(t[2]=s("div",{class:"hero-image"},[s("img",{src:D,alt:"Almas Køkken"})],-1)),s("div",R,[s("div",V,[S(s("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>l.value=e),placeholder:"Søg efter opskrifter...",class:"search-input"},null,512),[[I,l.value]]),s("div",z,[s("button",{class:_(["filter-button",{active:n.value===""}]),onClick:t[1]||(t[1]=e=>n.value="")}," Alle ",2),(r(!0),o(f,null,m(k.value,e=>(r(),o("button",{key:e,class:_(["filter-button",{active:n.value===e}]),onClick:Y=>n.value=e},i(e),11,E))),128))])])])]),s("div",M,[h(p)?(r(),o("div",U,t[3]||(t[3]=[s("div",{class:"loader"},null,-1),s("p",null,"Indlæser opskrifter...",-1)]))):h(y)?(r(),o("div",j,t[4]||(t[4]=[s("h2",null,"Kunne ikke indlæse opskrifter",-1),s("p",null,"Der opstod en fejl. Prøv at genindlæse siden.",-1)]))):(r(!0),o(f,{key:2},m(C.value,e=>(r(),o("div",{key:e.slug,class:"recipe-grid-item"},[s("a",{href:e.slug,class:"recipe-card",onclick:"window.location.href=this.getAttribute('href'); return false;"},[s("div",{class:"recipe-card-image",style:N(b(e))},[s("div",H,i(e.time||"30")+" min",1),e.categories&&e.categories.length>0?(r(),o("div",J,i(e.categories[0]),1)):$("",!0)],4),s("div",O,[s("h3",null,i(e.title),1),s("p",P,i(e.description),1),s("div",Q,[s("span",T,i(e.difficulty||"Nem"),1),s("span",W,i(e.servings||"4")+" pers.",1)])])],8,q)]))),128))])]))}},ae=A(X,[["__scopeId","data-v-4d3a512c"]]);export{ae as default};
