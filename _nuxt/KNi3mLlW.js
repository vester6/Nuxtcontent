import{R as V}from"./-YyKRVH6.js";import{l as D,c as k,o as $,J as p,G as L,f as n,k as s,i as t,h as m,g,n as y,F as C,H as w,t as x,K as B,L as E,A,a as P,Q as T,N as R,w as b,M as q}from"./DRowYQrR.js";const G={class:"recipe-home"},H={class:"hero-section"},M={class:"hero-content"},S={key:0},F={key:0,class:"filter-bar"},Q={class:"categories"},j=["onClick"],z={class:"search-container"},J={key:1,class:"recipe-count"},K={key:2,class:"recipe-grid"},O={key:3,class:"no-recipes"},U={key:1,class:"loading"},W={__name:"RecipeGrid",setup(I){const e=k([]),l=k("all"),i=k(""),_=k(!1);$(async()=>{try{e.value=await queryContent("opskrifter").sort({title:1}).find(),console.log("Hentede opskrifter:",e.value),(!e.value||!Array.isArray(e.value)||e.value.length===0)&&(console.warn("No recipe data found or empty array"),e.value=[])}catch(o){console.error("Error fetching recipes:",o),e.value=[]}finally{_.value=!0}});const f=p(()=>!e.value||!Array.isArray(e.value)?[]:e.value.filter(o=>{var a,c,d,r;if(l.value!=="all"&&!(((a=o.meta)==null?void 0:a.categories)||[]).includes(l.value))return!1;if(i.value){const v=i.value.toLowerCase();return(((c=o.title)==null?void 0:c.toLowerCase())||"").includes(v)||(((d=o.description)==null?void 0:d.toLowerCase())||"").includes(v)||(((r=o.meta)==null?void 0:r.categories)||[]).some(N=>N.toLowerCase().includes(v))}return!0})),u=p(()=>{const o=new Set;return e.value&&Array.isArray(e.value)&&e.value.forEach(a=>{var c;(c=a.meta)!=null&&c.categories&&a.meta.categories.forEach(d=>o.add(d))}),Array.from(o).sort()}),h=o=>{l.value=o};return(o,a)=>{const c=L("ContentDoc"),d=V;return s(),n("div",G,[t("div",H,[t("div",M,[m(c)])]),_.value?(s(),n("div",S,[e.value.length>0?(s(),n("div",F,[t("div",Q,[t("button",{class:y(["category-button",{active:l.value==="all"}]),onClick:a[0]||(a[0]=r=>h("all"))}," Alle opskrifter ",2),(s(!0),n(C,null,w(u.value,r=>(s(),n("button",{key:r,class:y(["category-button",{active:l.value===r}]),onClick:v=>h(r)},x(r),11,j))),128))]),t("div",z,[B(t("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=r=>i.value=r),placeholder:"Søg efter opskrifter...",class:"search-input"},null,512),[[E,i.value]])])])):g("",!0),e.value.length>0?(s(),n("div",J,[t("span",null,x(f.value.length)+" opskrifter",1)])):g("",!0),e.value.length>0?(s(),n("div",K,[(s(!0),n(C,null,w(f.value,r=>(s(),n("div",{key:r._path,class:"recipe-grid-item"},[m(d,{recipe:r},null,8,["recipe"])]))),128))])):(s(),n("div",O,a[2]||(a[2]=[t("p",null,[A("Ingen opskrifter fundet. Tilføj nogle markdownfiler i "),t("code",null,"/content/opskrifter/"),A(" mappen.")],-1)])))])):(s(),n("div",U,a[3]||(a[3]=[t("p",null,"Indlæser opskrifter...",-1)])))])}}},X=D(W,[["__scopeId","data-v-5be95cc2"]]),Y={key:0},Z={key:1},ee=P({__name:"[...slug]",setup(I){const e=T();console.log("Route path:",e.path),console.log("Route params:",e.params);const l=p(()=>e.path.startsWith("/opskrifter/")&&e.path!=="/opskrifter/"),i=p(()=>["/favoritter","/madplan"].includes(e.path));p(()=>!l.value&&!i.value);const _=p(()=>e.path==="/");return(f,u)=>{const h=X,o=L("ContentDoc");return s(),n("div",null,[l.value||i.value?(s(),n("div",Y)):(s(),n("div",Z,[_.value?(s(),R(h,{key:0})):(s(),R(o,{key:1,path:q(e).path},{empty:b(()=>u[0]||(u[0]=[t("div",{class:"error-container"},[t("h2",null,"Indhold ikke fundet"),t("p",null,"Vi kunne ikke finde det ønskede indhold."),t("a",{href:"/",class:"back-link"},"Tilbage til forsiden")],-1)])),loading:b(()=>u[1]||(u[1]=[t("div",{class:"loading-container"},[t("div",{class:"loader"}),t("p",null,"Indlæser indhold...")],-1)])),_:1},8,["path"]))]))])}}}),oe=D(ee,[["__scopeId","data-v-7f341021"]]);export{oe as default};
