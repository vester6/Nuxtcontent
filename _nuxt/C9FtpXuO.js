import{l as p,I as y,c as k,J as C,f as r,i as e,h as w,K as b,L as x,M as g,F as L,H as D,G as I,k as n,N,g as S,t as i}from"./Dg509LHU.js";import{u as V}from"./DfzjKQNx.js";import"./Bkb6iJYI.js";import"./BD8uHCMm.js";const A={class:"recipe-home"},B={class:"hero-section"},F={class:"hero-content"},K={class:"search-container"},M={class:"recipe-grid"},R={key:0,class:"loading-container"},$={key:1,class:"error-container"},j=["href"],q={class:"time-badge"},z={key:0,class:"category-badge"},E={class:"recipe-card-content"},G={class:"description"},H={class:"recipe-meta"},J={class:"difficulty"},P={class:"servings"},Q={__name:"index",async setup(T){let c,u;const{data:d,pending:_,error:f}=([c,u]=y(()=>V("/api/recipes","$orW8SXrfeA")),c=await c,u(),c),l=k(""),h=C(()=>{if(!d.value)return[];if(!l.value)return d.value;const o=l.value.toLowerCase();return d.value.filter(t=>t.title.toLowerCase().includes(o)||t.description.toLowerCase().includes(o)||t.categories&&t.categories.some(a=>a.toLowerCase().includes(o)))}),v=o=>{if(o.image)return{backgroundImage:`url(${o.image})`};let t="category-default";if(o.categories&&o.categories.length>0){const a=o.categories[0].toLowerCase();a.includes("dessert")?t="category-dessert":a.includes("bagværk")?t="category-bagvaerk":a.includes("tradition")?t="category-tradition":a.includes("international")&&(t="category-international")}return{backgroundColor:m(t)}},m=o=>{switch(o){case"category-dessert":return"#f9d5e5";case"category-bagvaerk":return"#eeac99";case"category-tradition":return"#e06377";case"category-international":return"#5b9aa0";default:return"#d8e2dc"}};return(o,t)=>{const a=I("ContentDoc");return n(),r("div",A,[e("div",B,[e("div",F,[w(a,{path:"/"})])]),e("div",K,[b(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>l.value=s),placeholder:"Søg efter opskrifter...",class:"search-input"},null,512),[[x,l.value]])]),e("div",M,[g(_)?(n(),r("div",R,t[1]||(t[1]=[e("div",{class:"loader"},null,-1),e("p",null,"Indlæser opskrifter...",-1)]))):g(f)?(n(),r("div",$,t[2]||(t[2]=[e("h2",null,"Kunne ikke indlæse opskrifter",-1),e("p",null,"Der opstod en fejl. Prøv at genindlæse siden.",-1)]))):(n(!0),r(L,{key:2},D(h.value,s=>(n(),r("div",{key:s.slug,class:"recipe-grid-item"},[e("a",{href:s.slug,class:"recipe-card",onclick:"window.location.href=this.getAttribute('href'); return false;"},[e("div",{class:"recipe-card-image",style:N(v(s))},[e("div",q,i(s.time||"30")+" min",1),s.categories&&s.categories.length>0?(n(),r("div",z,i(s.categories[0]),1)):S("",!0)],4),e("div",E,[e("h3",null,i(s.title),1),e("p",G,i(s.description),1),e("div",H,[e("span",J,i(s.difficulty||"Nem"),1),e("span",P,i(s.servings||"4")+" pers.",1)])])],8,j)]))),128))])])}}},Y=p(Q,[["__scopeId","data-v-49ce39cf"]]);export{Y as default};
