import{l as N,x as C,I as $,f as n,g as h,M as i,i as e,t as r,N as M,F as y,H as I,k as a}from"./Dg509LHU.js";import{u as w}from"./DfzjKQNx.js";import"./Bkb6iJYI.js";import"./BD8uHCMm.js";const V={key:0,class:"loading-container"},A={key:1,class:"error-container"},B={key:2,class:"recipe-page"},O={class:"recipe-header"},R={class:"recipe-header-content"},D={class:"recipe-description"},P={class:"recipe-meta"},S={class:"meta-item"},j={class:"meta-item"},z={class:"meta-item"},E={class:"recipe-content"},G={class:"recipe-columns"},H={class:"recipe-ingredients"},L={class:"recipe-instructions"},U={key:0,class:"recipe-tips"},Z={__name:"[name]",async setup(q){let c,u;const g=C(),_=g.params.name;console.log("Opskriftsside indlæst med params:",g.params);const{data:t,pending:b,error:x}=([c,u]=$(()=>w(`/api/recipe?name=${encodeURIComponent(_)}`,"$15ACNZNMrv")),c=await c,u(),c);console.log("API-svar modtaget:",t.value);const T=()=>t.value&&t.value.image?t.value.image:"https://upload.wikimedia.org/wikipedia/commons/6/6d/Good_Food_Display_-_NCI_Visuals_Online.jpg",p=()=>{if(!t.value||!t.value.body)return{ingredients:[],instructions:[]};const m=t.value.body,s=m.match(/Ingredienser(.*?)(?=Fremgangsmåde|$)/s),o=m.match(/Fremgangsmåde(.*?)(?=Tips|$)/s),l=m.match(/Tips(.*?)$/s);let f=[];s&&s[1]&&(f=s[1].trim().replace(/###|##|#/g,"").replace(/\*/g,"").trim().split(/\n|(?:-\s)/).filter(d=>d.trim().length>0).map(d=>d.trim().replace(/^-\s*/,"")));let v=[];o&&o[1]&&(v=o[1].trim().replace(/###|##|#/g,"").replace(/\*\*/g,"").trim().split(/\d+\.\s+/).filter(d=>d.trim().length>0).map(d=>d.trim()));let k="";return l&&l[1]&&(k=l[1].trim().replace(/###|##|#/g,"").replace(/\*\*/g,"").trim()),{ingredients:f,instructions:v,tips:k}};return(m,s)=>(a(),n("div",null,[i(b)?(a(),n("div",V,s[0]||(s[0]=[e("div",{class:"loader"},null,-1),e("p",null,"Indlæser opskrift...",-1)]))):i(x)||i(t)&&i(t).error?(a(),n("div",A,[s[1]||(s[1]=e("h2",null,"Opskrift ikke fundet",-1)),e("p",null,'Vi kunne ikke finde opskriften "'+r(i(_))+'". Prøv at vælge en anden opskrift.',1),s[2]||(s[2]=e("a",{href:"/",class:"back-link"},"Tilbage til forsiden",-1))])):i(t)&&!i(t).error?(a(),n("div",B,[e("div",O,[e("div",{class:"recipe-image",style:M({backgroundImage:`url(${T()})`})},null,4),e("div",R,[e("h1",null,r(i(t).title),1),e("p",D,r(i(t).description),1),e("div",P,[e("div",S,[s[3]||(s[3]=e("span",{class:"meta-icon"},"⏱️",-1)),e("span",null,r(i(t).time||30)+" minutter",1)]),e("div",j,[s[4]||(s[4]=e("span",{class:"meta-icon"},"👨‍🍳",-1)),e("span",null,r(i(t).difficulty||"Nem"),1)]),e("div",z,[s[5]||(s[5]=e("span",{class:"meta-icon"},"🍽️",-1)),e("span",null,r(i(t).servings||4)+" personer",1)])])])]),e("div",E,[e("div",G,[e("div",H,[s[6]||(s[6]=e("h2",null,"Ingredienser",-1)),e("ul",null,[(a(!0),n(y,null,I(p().ingredients,(o,l)=>(a(),n("li",{key:l},r(o),1))),128))])]),e("div",L,[s[8]||(s[8]=e("h2",null,"Fremgangsmåde",-1)),e("ol",null,[(a(!0),n(y,null,I(p().instructions,(o,l)=>(a(),n("li",{key:l},r(o),1))),128))]),p().tips?(a(),n("div",U,[s[7]||(s[7]=e("h3",null,"Tips",-1)),e("p",null,r(p().tips),1)])):h("",!0)])])]),s[9]||(s[9]=e("div",{class:"button-container"},[e("a",{href:"/",class:"back-button"},"Tilbage til forsiden")],-1))])):h("",!0)]))}},X=N(Z,[["__scopeId","data-v-6af6791f"]]);export{X as default};
