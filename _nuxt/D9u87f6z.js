import{_ as D}from"./Cn-qeGaY.js";import{l as A,K as m,R as y,k as s,w as C,i as t,n as $,t as p,f as r,g as b,F as w,H as x,c as k,o as V,G as I,h as L,L as q,M as B,A as R,a as E,S,N as T}from"./cY_kfgR1.js";const G={class:"time-badge"},H={class:"recipe-card-content"},M={class:"description"},O={class:"recipe-meta"},j={class:"difficulty"},F={class:"servings"},z={key:0,class:"categories"},K={__name:"RecipeCard",props:{recipe:{type:Object,required:!0}},setup(i){const e=i,c=m(()=>{var v;if(!((v=e.recipe.meta)!=null&&v.categories)||!Array.isArray(e.recipe.meta.categories)||e.recipe.meta.categories.length===0)return"category-default";switch(e.recipe.meta.categories[0].toLowerCase()){case"dessert":return"category-dessert";case"bagværk":return"category-bagvaerk";case"vegetar":return"category-vegetar";case"indisk":case"asiatisk":return"category-international";case"tradition":return"category-tradition";default:return"category-default"}});return(d,v)=>{const u=D;return s(),y(u,{to:i.recipe._path||"/",class:"recipe-card"},{default:C(()=>{var g,_,o,a;return[t("div",{class:$(["recipe-card-image",c.value])},[t("div",G,p(((g=i.recipe.meta)==null?void 0:g.time)||"?")+" min",1)],2),t("div",H,[t("h3",null,p(i.recipe.title||"Opskrift"),1),t("p",M,p(i.recipe.description||"Ingen beskrivelse tilgængelig"),1),t("div",O,[t("span",j,p(((_=i.recipe.meta)==null?void 0:_.difficulty)||"Nem"),1),t("span",F,p(((o=i.recipe.meta)==null?void 0:o.servings)||"4")+" pers.",1)]),(a=i.recipe.meta)!=null&&a.categories&&i.recipe.meta.categories.length?(s(),r("div",z,[(s(!0),r(w,null,x(i.recipe.meta.categories,l=>(s(),r("span",{key:l,class:"category-tag"},p(l),1))),128))])):b("",!0)])]}),_:1},8,["to"])}}},P=A(K,[["__scopeId","data-v-39ef91c5"]]),Q={class:"recipe-home"},U={class:"hero-section"},W={class:"hero-content"},J={key:0},X={key:0,class:"filter-bar"},Y={class:"categories"},Z=["onClick"],ee={class:"search-container"},te={key:1,class:"recipe-count"},se={key:2,class:"recipe-grid"},ae={key:3,class:"no-recipes"},re={key:1,class:"loading"},oe={__name:"RecipeGrid",setup(i){const e=k([]),c=k("all"),d=k(""),v=k(!1);V(async()=>{try{e.value=await queryContent("opskrifter").sort({title:1}).find(),console.log("Hentede opskrifter:",e.value),(!e.value||!Array.isArray(e.value)||e.value.length===0)&&(console.warn("No recipe data found or empty array"),e.value=[])}catch(o){console.error("Error fetching recipes:",o),e.value=[]}finally{v.value=!0}});const u=m(()=>!e.value||!Array.isArray(e.value)?[]:e.value.filter(o=>{var a,l,f,n;if(c.value!=="all"&&!(((a=o.meta)==null?void 0:a.categories)||[]).includes(c.value))return!1;if(d.value){const h=d.value.toLowerCase();return(((l=o.title)==null?void 0:l.toLowerCase())||"").includes(h)||(((f=o.description)==null?void 0:f.toLowerCase())||"").includes(h)||(((n=o.meta)==null?void 0:n.categories)||[]).some(N=>N.toLowerCase().includes(h))}return!0})),g=m(()=>{const o=new Set;return e.value&&Array.isArray(e.value)&&e.value.forEach(a=>{var l;(l=a.meta)!=null&&l.categories&&a.meta.categories.forEach(f=>o.add(f))}),Array.from(o).sort()}),_=o=>{c.value=o};return(o,a)=>{const l=I("ContentDoc"),f=P;return s(),r("div",Q,[t("div",U,[t("div",W,[L(l)])]),v.value?(s(),r("div",J,[e.value.length>0?(s(),r("div",X,[t("div",Y,[t("button",{class:$(["category-button",{active:c.value==="all"}]),onClick:a[0]||(a[0]=n=>_("all"))}," Alle opskrifter ",2),(s(!0),r(w,null,x(g.value,n=>(s(),r("button",{key:n,class:$(["category-button",{active:c.value===n}]),onClick:h=>_(n)},p(n),11,Z))),128))]),t("div",ee,[q(t("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=n=>d.value=n),placeholder:"Søg efter opskrifter...",class:"search-input"},null,512),[[B,d.value]])])])):b("",!0),e.value.length>0?(s(),r("div",te,[t("span",null,p(u.value.length)+" opskrifter",1)])):b("",!0),e.value.length>0?(s(),r("div",se,[(s(!0),r(w,null,x(u.value,n=>(s(),r("div",{key:n._path,class:"recipe-grid-item"},[L(f,{recipe:n},null,8,["recipe"])]))),128))])):(s(),r("div",ae,a[2]||(a[2]=[t("p",null,[R("Ingen opskrifter fundet. Tilføj nogle markdownfiler i "),t("code",null,"/content/opskrifter/"),R(" mappen.")],-1)])))])):(s(),r("div",re,a[3]||(a[3]=[t("p",null,"Indlæser opskrifter...",-1)])))])}}},ne=A(oe,[["__scopeId","data-v-4799cdb0"]]),ie={key:0},ce={key:1},le=E({__name:"[...slug]",setup(i){const e=S();console.log("Route path:",e.path),console.log("Route params:",e.params);const c=m(()=>e.path.startsWith("/opskrifter/")&&e.path!=="/opskrifter/");m(()=>!c.value);const d=m(()=>e.path==="/");return(v,u)=>{const g=ne,_=I("ContentDoc");return s(),r("div",null,[c.value?(s(),r("div",ie)):(s(),r("div",ce,[d.value?(s(),y(g,{key:0})):(s(),y(_,{key:1,path:T(e).path},{empty:C(()=>u[0]||(u[0]=[t("div",{class:"error-container"},[t("h2",null,"Indhold ikke fundet"),t("p",null,"Vi kunne ikke finde det ønskede indhold."),t("a",{href:"/",class:"back-link"},"Tilbage til forsiden")],-1)])),loading:C(()=>u[1]||(u[1]=[t("div",{class:"loading-container"},[t("div",{class:"loader"}),t("p",null,"Indlæser indhold...")],-1)])),_:1},8,["path"]))]))])}}}),pe=A(le,[["__scopeId","data-v-9d377ed8"]]);export{pe as default};
